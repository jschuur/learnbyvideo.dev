{
	"name": "database",
	"version": "1.0.0",
	"description": "learnbyvideo.dev shared database code",
	"type": "module",
	"main": "./dist/index.js",
	"module": "./dist/index.mjs",
	"types": "./dist/index.d.ts",
	"files": [
		"dist/**"
	],
	"scripts": {
		"build": "tsup",
		"prebuild": "pnpm run generate",
		"predev": "pnpm run generate",
		"dev": "tsup --watch",
		"generate": "dotenv -e ../../.env -- prisma generate",
		"clean": "rimraf .turbo node_modules dist",
		"db:migrate": "dotenv -e ../../.env -- prisma migrate dev",
		"db:migrate:prod": "dotenv -e ../../.env.production -- prisma migrate deploy",
		"db:dump:local": "pg_dump -d learnbyvideodev -Fc -f tmp/dbdump_local_`date +\"%Y-%m-%d_%H:%M:%S\"`.dump",
		"db:dump:local:latest": "pg_dump -- -d '%DATABASE_URL%' -Fc -f tmp/dbdump_local_latest.dump",
		"db:dump:prod": "dotenv -e ../../.env.production -- pg_dump -d '%DATABASE_URL%' -Fc -f tmp/dbdump_prod_latest.dump",
		"db:push:prod": "dotenv -e ../../.env.production -- pg_restore --no-acl --no-owner --clean -d '%DATABASE_URL%' tmp/dbdump_local_latest.dump",
		"db:push": "pnpm run db:dump:local:latest && pnpm run db:push:prod"
	},
	"keywords": [],
	"author": "",
	"license": "ISC",
	"devDependencies": {
		"@types/node": "^20.14.2",
		"dotenv-cli": "^7.4.2",
		"prisma": "^5.15.0",
		"rimraf": "^5.0.7",
		"tsconfig": "workspace:*",
		"tsup": "^8.1.0",
		"typescript": "^5.4.5"
	},
	"dependencies": {
		"@prisma/client": "^5.15.0"
	}
}
